# Data

This directory contains all the datasets and results used in this research paper. It provides a comprehensive collection of regex composition tasks, candidate solutions, and evaluation results across different composition strategies.

## Directory Structure

```
data/
├── evaluation-results/        # Results from evaluating regex candidates
│   ├── llms/                  # LLM-based strategies
│   ├── reuse-by-example/      # Reuse-based strategy
│   └── synthesizers/          # Formal synthesis strategies
│
├── generated-regexes/         # Regex candidates generated by different strategies
│   ├── llms/                  # LLM-generated regexes
│   │   ├── gemma2:27b/
│   │   ├── gpt-4o/
│   │   ├── llama3.1:8b/
│   │   ├── llama3.2:1b/
│   │   ├── llama3.2:3b/
│   │   ├── mistral:latest/
│   │   ├── o3-mini/
│   │   ├── qwen2.5-coder:32b/
│   │   └── qwen2.5-coder:7b/
│   │
│   ├── reuse-by-example/      # Regexes from our reuse-by-example approach
│   └── synthesizers/          # Regexes from formal synthesizers
│       ├── forest/
│       ├── rfixer/
│       └── rfixer-gtp/
│
├── regex-composition-bench/   # Our regex composition benchmark dataset
│   ├── oss/                   # Tasks from open-source software projects
│   └── regexlib/              # Tasks from RegExLib
│
└── regex-reuse-database/      # Database of production-ready regexes for reuse
```

## Dataset Description

### regex-composition-bench/

This directory contains RegexCompositionBench, our novel dataset of regex composition tasks mined from GitHub and RegExLib (55,137 unique regex composition tasks). Each task consists of:

- A set of positive examples (strings that should match)
- A set of negative examples (strings that should not match)
- The ground truth regex solution

The data is provided in NDJSON format and split into two sources:
- `oss/`: Regex composition tasks extracted from open-source software projects
- `regexlib/`: Regex composition tasks from RegExLib repository

### regex-reuse-database/

This directory contains a database of 334,716 production-ready regexes extracted from various sources. This database serves as the foundation for our reuse-by-example approach.

### generated-regexes/

This directory contains the regexes generated by each composition strategy. It is organized by:

1. **Strategy type**:
   - `llms/`: Regexes generated by large language models
   - `reuse-by-example/`: Regexes retrieved by our reuse-by-example approach
   - `synthesizers/`: Regexes synthesized by formal tools like RFixer and FOREST

2. **Match type**:
   - `full-match/`: Regexes for full string matching tasks
   - `partial-match/`: Regexes for partial string matching (substring extraction) tasks

For LLMs, we evaluated multiple models:
- OpenAI models: gpt-4o, o3-mini
- Open-source models: 
  - Llama family: llama3.1:8b, llama3.2:1b, llama3.2:3b
  - Others: gemma2:27b, mistral:latest, qwen2.5-coder:7b, qwen2.5-coder:32b

### evaluation-results/

This directory contains the evaluation results of regex candidates against our test suites. The evaluations include:

- Accuracy (correct match/non-match behavior)
- Syntactic similarity (AST edit distance)
- Semantic similarity (language overlap)
- Helpfulness score (constraint level measurement)

## File Format

All data files use the NDJSON (Newline Delimited JSON) format, where each line is a valid JSON object. The schema varies slightly depending on the file purpose:

### Test Suite Files:
```json
{
  "regex_id": "string",
  "project_id": "string",
  "test_suite_id": "string", 
  "regex_pattern": "string",
  "strings": [
    {
      "string": "string",
      "full_match": boolean,
      "partial_match": boolean,
      "matched_string": "string" 
    }
  ],
  "test_string_count": number
}
```

### Generated Regex Files:
```json
{
  "regex_id": "string",
  "project_id": "string",
  "test_suite_id": "string",
  "regex_pattern": "string",
  "strings": [...],
  "candidates": [
    {
      "type": "string",
      "regex": "string"
    }
  ],
  "test_string_count": number,
  "elapsed_time": number,
  "status": "string"
}
```

### Evaluation Results Files:
The evaluation files extend the generated regex files with additional metrics like:
- `accuracy`
- `normalized_ast_edit_distance`
- `symmetrical_semantic_similarity`
- `helpfulness_score`
